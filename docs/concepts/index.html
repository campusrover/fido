<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link rel="alternate" type="application/rss+xml" href="/fido/blog/rss.xml" title="Fido Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/fido/blog/atom.xml" title="Fido Blog Atom Feed"><title data-react-helmet="true">Concepts | Fido</title><meta data-react-helmet="true" property="og:url" content="https://hojulian.github.io/fido/docs/concepts"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Concepts | Fido"><meta data-react-helmet="true" name="description" content="Overview"><meta data-react-helmet="true" property="og:description" content="Overview"><link data-react-helmet="true" rel="shortcut icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;ðŸ”®&lt;/text&gt;&lt;/svg&gt;"><link data-react-helmet="true" rel="canonical" href="https://hojulian.github.io/fido/docs/concepts"><link data-react-helmet="true" rel="alternate" href="https://hojulian.github.io/fido/docs/concepts" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://hojulian.github.io/fido/docs/concepts" hreflang="x-default"><link rel="stylesheet" href="/fido/assets/css/styles.94cbeabc.css">
<link rel="preload" href="/fido/assets/js/runtime~main.c5ae6ff1.js" as="script">
<link rel="preload" href="/fido/assets/js/main.413780ba.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fido/"><img src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;ðŸ”®&lt;/text&gt;&lt;/svg&gt;" alt="Fido" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;ðŸ”®&lt;/text&gt;&lt;/svg&gt;" alt="Fido" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Fido</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/fido/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/fido/docs/reference/api">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hojulian/fido" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/fido/"><img src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;ðŸ”®&lt;/text&gt;&lt;/svg&gt;" alt="Fido" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;ðŸ”®&lt;/text&gt;&lt;/svg&gt;" alt="Fido" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Fido</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/fido/docs/intro">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/fido/docs/reference/api">API</a></li><li class="menu__list-item"><a href="https://github.com/hojulian/fido" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/fido/docs/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/fido/docs/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/fido/docs/examples">Examples</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/fido/docs/concepts">Concepts</a></li><li class="menu__list-item"><a class="menu__link" href="/fido/docs/advanced">Advanced Features</a></li><li class="menu__list-item"><a class="menu__link" href="/fido/docs/contributing">Contributing to Fido</a></li><li class="menu__list-item"><a class="menu__link" href="/fido/docs/roadmap">Roadmap</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Concepts</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="overview"></a>Overview<a class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="simulation"></a>Simulation<a class="hash-link" href="#simulation" title="Direct link to heading">#</a></h2><div class="mermaid"> 
	graph TD;
		sim(Simulation);
		simulator(Simulator);
		robot(Robot);
		world(World);
		sim --&gt; robot;
		sim --&gt; simulator;
		sim --&gt; world;
 </div><p>A simulation represents a simulated environment. A <a href="#world">World</a>, <a href="#robot">Robot</a>, and <a href="#simulator">Simulator</a> jointly forms a Simulation.</p><p>To create a simulation, simply:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="token plain">sim </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> Simulation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">simulator</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> world</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Architecturally, a simulation is self-contained as a docker container. By default, a simulation uses the Fido base image. <em>Note: it is possible to use a different docker image, see <a href="/fido/docs/advanced#custom-docker-image">Custom Docker Image</a>.</em> Each simulation has an unique docker container.</p><p>Internally, when a simulation is created, it will first initialize by loading all the external world and robot files using <code>rosinstall</code>. The loaded files are located under <code>.fido/sim-$SIM_ID</code> folder. After that, it will create a docker container with the files attached to its catkin workspace. The container created will be in a pause state.</p><p>When the container is started, it creates a <code>rosbridge</code> and a <code>novnc</code> GUI on two randomized ports. The simulation will then attempt to connect to the container using its ROS client. Once it is connected successfully, it will then start up all the sensors of each robots by subscribing to the corresponding topics. This allows the robots to have the latest state updates. The simulation is controlled using simulator&#x27;s <a href="/fido/docs/reference/fido/simulation/simulator">API</a>.</p><p>At this stage, the simulation will continue to run in the background until <code>stop()</code> or <code>destroy()</code> is called. When <code>destroy()</code> is called, the simulation is forcefully stopped and destroyed alongside with its underlying docker container. A destroyed simulation cannot be started again.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="simulator"></a>Simulator<a class="hash-link" href="#simulator" title="Direct link to heading">#</a></h2><p>A simulator acts as the physics engine for running a simulation. This provides API for the simulation to control the lifecycle of a simulator (e.g. starting &amp; stopping). Fido does not make any enforcement on the compatibility of simulator, world, and robot, it is up to the user to check their compatibility.</p><p>The basic operations of simulator are as follows,</p><ul><li>Start/Stop</li><li>Reset</li><li>View</li><li>Show time</li></ul><p>It is up to the implementation to decide what each of these operation means.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gazebo"></a>Gazebo<a class="hash-link" href="#gazebo" title="Direct link to heading">#</a></h3><p><a href="http://gazebosim.org/" target="_blank" rel="noopener noreferrer">Gazebo</a> is a simulator specifically designed for robot simulation.</p><p>Currently, this is the only supported simulator.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="world"></a>World<a class="hash-link" href="#world" title="Direct link to heading">#</a></h2><p>A world represents a collection of robots and objects. The common world operations are adding and removing robots.</p><p>Internally, the world is defined as a set of files: A <code>.rosinstall</code> file for importing external world models, and a <code>.launch</code> file for starting the world. The <code>export_files()</code> function exports all the files needed to represent the world and all the included robots.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="robot"></a>Robot<a class="hash-link" href="#robot" title="Direct link to heading">#</a></h2><p>A robot represents either a physical or a simulated robot.</p><p>To control a physical robot, first, start a <a href="http://wiki.ros.org/rosbridge_server" target="_blank" rel="noopener noreferrer">rosbridge server</a> on the robot, and expose a port for connection. Then, in python simply do,</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="token plain">robot </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> Turtlebot3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;example-bot&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> physical</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#000000"><span class="token plain">robot</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">host</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;127.0.0.1&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> port</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">9090</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)"># Robot&#x27;s IP address and rosbridge port</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>To control a simulated robot, a simulated world is needed,</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="token plain">world </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> RaceTrack</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#000000"><span class="token plain">robot </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> Turtlebot3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;example-bot&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> physical</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#000000"><span class="token plain">world</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">robot</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)"># Add simulated robot to world</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>A basic structure of a robot looks like this,</p><div class="mermaid"> 
	graph TD;
		s1(Odom Sensor);
		s2(Lidar Sensor);
		subgraph functions;
			move(Move);
			rotate(Rotate);
		end;
		subgraph sensors;
			s1;
			s2;
		end;
		subgraph fields;
			x;
			y;
			z;
			range;	
		end;
		subgraph robot;
			fields;
			functions;
			sensors;
		end;
 </div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sensor"></a>Sensor<a class="hash-link" href="#sensor" title="Direct link to heading">#</a></h3><div class="mermaid"> 
	graph TD;
		sensor(Sensor);
		odom(Odomer);
		lidar(Lidar);
		camera(Camera);
		sensor --&gt; odom;
		sensor --&gt; lidar;
		sensor --&gt; camera;
 </div><p>A sensor represents a sensor on the robot.</p><p>Internally, a sensor listens to a specific ROS topic and updates the robot&#x27;s internal state. For instance, a <code>Odomer</code> listens to the <code>/odom</code> topic and update the robot&#x27;s <code>x</code>, <code>y</code>, <code>z</code> coordinates. A sensor only starts listening to updates once the simulation has started. It will stop updating once the simulation is destroyed.</p><div class="mermaid"> 
	graph TD;
		s1(Odom Sensor);
		s2(Lidar Sensor);
		subgraph functions;
			move(Move);
			rotate(Rotate);
		end;
		subgraph sensors;
			s1;
			s2;
		end;
		subgraph fields;
			s1 --&gt;|updates| x;
			s1 --&gt;|updates| y;
			s1 --&gt;|updates| z;
			s2 --&gt;|updates| range;	
		end;
		subgraph robot;
			fields;
			functions;
			sensors;
		end;
 </div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="docker"></a>Docker<a class="hash-link" href="#docker" title="Direct link to heading">#</a></h2><p>Fido leverages Docker for simulation. This allows each simulation to be isolated and platform independent.</p><p>To change the Docker host,</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> fido </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> config</span></div><div class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="token plain">config</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">set_docker_host</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">base_url</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> version</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/hojulian/fido/edit/documentation/docs/docs/concepts.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/fido/docs/examples"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Examples</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/fido/docs/advanced"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Advanced Features Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link">Overview</a></li><li><a href="#simulation" class="table-of-contents__link">Simulation</a></li><li><a href="#simulator" class="table-of-contents__link">Simulator</a><ul><li><a href="#gazebo" class="table-of-contents__link">Gazebo</a></li></ul></li><li><a href="#world" class="table-of-contents__link">World</a></li><li><a href="#robot" class="table-of-contents__link">Robot</a><ul><li><a href="#sensor" class="table-of-contents__link">Sensor</a></li></ul></li><li><a href="#docker" class="table-of-contents__link">Docker</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Fido</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/fido/docs/intro">Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/fido/docs/reference/api">API</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/hojulian/fido" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Julian Ho. Built with Docusaurus.</div></div></div></footer></div>
<script src="/fido/assets/js/runtime~main.c5ae6ff1.js"></script>
<script src="/fido/assets/js/main.413780ba.js"></script>
</body>
</html>